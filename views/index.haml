!!! 5
%head
  %meta{"charset" => "utf-8"}
  %title FeedBurner Ping Service
  %link{"rel" => "stylesheet", "href" => url("/css/bootstrap.min.css"), "type" => "text/css"}
  %link{"rel" => "stylesheet", "href" => url("/css/main.css"), "type" => "text/css"}
  %link{"rel" => "stylesheet", "href" => "http://yandex.st/highlightjs/6.1/styles/solarized_dark.min.css", "type" => "text/css"}
  %link{"rel" => "stylesheet", "href" => "http://fonts.googleapis.com/css?family=Source+Code+Pro:400|Source+Sans+Pro:400,700", "type" => "text/css"}
  %script{"type" => "text/javascript", "src" => "http://yandex.st/highlightjs/6.1/highlight.min.js"}
  %script{"type" => "text/javascript"}
    hljs.initHighlightingOnLoad();
%body
  <a href="http://github.com/clementi/FeedBurner-Pinger"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
  .jumbotron
    .container
      %h1 Ping FeedBurner
  .description
    .container
      .row
        .span12
          :markdown
            Use this endpoint to ping [FeedBurner](http://feedburner.google.com/). Make a POST request to it with a parameter of `url=[your FeedBurner feed URL]` to ping FeedBurner with updates to your feed, like this (Ruby):
            <pre><code class="ruby">endpoint = URI('http://feedburner-pinger.herokuapp.com/')
            feed_url = 'http://feeds.feedburner.com/MyFeed'
            response = Net::HTTP.post_form endpoint, {:url => feed_url}
            </code></pre>
      .row
        .span6
          :markdown
            When you make a successful request, you'll get this JSON response:
            <pre><code class="javascript">{
              "status": "SUCCEEDED",
              "message": "Successfully pinged"
            }</code></pre>
        .span6
          :markdown
            If you make a request too soon after your last one, you'll get this JSON response:
            <pre><code class="javascript">{
              "status": "THROTTLED",
              "message": "Ping is throttled"
            }</code></pre>
      .row
        .span12
          :markdown
            If something went wrong, you'll get this JSON response:
            <pre><code class="javascript">{
              "status": "FAILED",
              "message": "Your Ping resulted in an Error"
            }</code></pre>
  %footer
    .container
      Created by
      %a{"href" => "http://jeffreypratt.net/notes/2012/03/08/feedburners-missing-api.html"} Jeffrey Pratt.
  %script{"type" => "text/javascript", "src" => url("/js/google-analytics.js")}
